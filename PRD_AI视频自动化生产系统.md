# 产品需求文档（PRD）
# AI 视频自动化生产系统

## 文档信息
- **产品名称**：AI 视频自动化生产系统
- **版本**：v1.0
- **创建日期**：2026-02-18
- **文档作者**：基于孟健的实践案例分析
- **目标平台**：视频号、短视频平台

---

## 一、产品概述

### 1.1 产品定位
一个基于 AI Agent 协作的全自动短视频生产系统，通过 OpenClaw + Remotion + 语音克隆技术栈，实现从选题到成片的端到端自动化流程，将传统 2-3 小时的视频制作时间压缩至 15 分钟，成本降至 0.1 元/条。

### 1.2 核心价值
- **效率提升**：制作时间从 2-3 小时降至 15 分钟（提升 90%）
- **成本优化**：单条视频成本从 300-800 元降至 0.1 元（降低 99.9%）
- **数据增长**：播放量从平均 200 提升至 1595（增长 8 倍）
- **零技能门槛**：无需掌握剪映、PR 等剪辑软件

### 1.3 目标用户
- 个人创作者：需要高频更新内容但时间有限
- 小型团队：预算有限但需要持续输出视频内容
- 知识博主：专注内容创作，不想在剪辑上花费时间
- 企业营销：需要批量生产统一风格的短视频

---

## 二、市场分析

### 2.1 痛点分析
1. **时间成本高**：传统视频制作流程繁琐（脚本-录音-剪辑-导出）
2. **技能门槛高**：需要掌握专业剪辑软件
3. **更新频率低**：人工制作难以支撑日更需求
4. **质量不稳定**：人工状态起伏导致内容质量波动
5. **外包成本高**：单条视频外包费用 300-800 元

### 2.2 竞品分析
- **剪映/PR**：功能强大但学习成本高，无法自动化
- **AI 视频生成工具**：画面质量差，审美疲劳
- **PPT 录屏**：制作简单但观感无聊
- **本产品优势**：代码化模板 + AI 协作 + 风格统一 + 成本极低

---

## 三、功能需求

### 3.1 核心功能模块

#### 模块 1：选题推送系统
**功能描述**：AI Agent 自动生成并推送每日选题

**详细需求**：
- 定时任务：每日 9:30 自动触发
- 选题数量：每次推送 5 个备选选题
- 推送渠道：Telegram 消息通知
- 选题质量：基于热点、用户画像、历史数据分析
- 用户交互：一键选择确认

**验收标准**：
- 选题推送准时率 ≥ 99%
- 选题相关性评分 ≥ 4.0/5.0
- 用户响应时间 ≤ 1 分钟

---

#### 模块 2：脚本生成系统
**功能描述**：根据选题自动生成 60 秒视频脚本

**详细需求**：
- 脚本长度：200 字左右（对应 60 秒）
- 内容结构：开场-痛点-解决方案-金句收尾
- 语言风格：口语化、节奏感强、有记忆点
- 模型要求：使用 Claude Opus 级别模型（不降级）
- 关键词提取：自动标记需要高亮的关键词

**验收标准**：
- 脚本生成时间 ≤ 30 秒
- 脚本可读性评分 ≥ 4.5/5.0
- 金句出现率 ≥ 80%

---

#### 模块 3：语音克隆与 TTS 系统
**功能描述**：使用用户声音克隆模型生成旁白音频

**详细需求**：
- 声音克隆：基于 30 秒样本训练个人声音模型
- TTS 服务：MiniMax voice-clone（通过 fal.ai 调用）
- 语速控制：1.15 倍速（平衡自然度与节奏感）
- 音频质量：清晰度高、情感自然
- 生成速度：60 秒旁白 ≤ 5 秒生成

**验收标准**：
- 声音相似度 ≥ 90%
- 生成成功率 ≥ 99%
- 单条成本 ≤ 0.1 元

---

#### 模块 4：时间戳提取系统
**功能描述**：精确提取音频逐句时间戳用于字幕对齐

**详细需求**：
- 转录引擎：OpenAI Whisper（本地部署）
- 输出格式：JSON（包含 start/end/text）
- 精度要求：误差 ≤ 100 毫秒
- 处理速度：60 秒音频 ≤ 10 秒处理
- 成本：免费（本地运行）

**验收标准**：
- 时间戳准确率 ≥ 95%
- 字幕对齐误差 ≤ 100ms

---

#### 模块 5：场景编排系统
**功能描述**：根据脚本和时间戳自动生成 Remotion 场景数据

**详细需求**：
- 场景类型：title（标题）、pain（痛点）、emphasis（强调）、circle（圈重点）等
- 动效匹配：根据内容自动选择合适的动效类型
- 小墨姿态：6 种预设姿态（peek/sit/point/circle/think/celebrate）
- 关键词高亮：自动识别并标记需要高亮的词汇
- 数据格式：生成 scenes-data.ts 文件

**验收标准**：
- 场景类型匹配准确率 ≥ 90%
- 动效与内容协调性评分 ≥ 4.0/5.0

---

#### 模块 6：视频渲染系统
**功能描述**：基于 Remotion 框架渲染最终视频

**详细需求**：
- 渲染引擎：Remotion + React
- 视频规格：1080p、30fps、H.264 编码
- 视觉风格：赛博线框批注体（深色背景 #0A0A0F）
- 字体加载：预置字体文件，避免系统依赖
- 音效同步：动效与音效精确到帧对齐
- BGM 混音：背景音乐 18% 音量
- 渲染速度：60 秒视频 ≤ 2 分钟

**验收标准**：
- 渲染成功率 ≥ 99%
- 音画同步误差 ≤ 1 帧
- 视频质量评分 ≥ 4.5/5.0

---

#### 模块 7：成片审核与发布系统
**功能描述**：成片通知、人工审核、一键发布

**详细需求**：
- 通知方式：Telegram 推送成片链接
- 预览功能：支持在线预览或下载查看
- 审核时间：预留 2 分钟人工审核
- 发布渠道：视频号（可扩展其他平台）
- 发布状态：实时反馈发布结果

**验收标准**：
- 通知送达率 ≥ 99%
- 发布成功率 ≥ 95%

---

### 3.2 Agent 协作架构

#### Agent 1：墨媒（运营 Agent）
- **职责**：选题推送、发布管理、数据监控
- **触发方式**：Cron 定时任务（每日 9:30）
- **输出**：5 个选题推送至 Telegram

#### Agent 2：墨笔（创作 Agent）
- **职责**：脚本创作、TTS 调用、场景编排、视频渲染
- **触发方式**：接收墨媒传递的选题确认
- **输出**：完整视频文件 + 成片通知

#### Agent 3：墨影（设计 Agent）
- **职责**：封面图设计、配图生成
- **触发方式**：按需调用
- **输出**：视频封面图

**Agent 通信机制**：
- 使用 OpenClaw 的 `sessions_send` 实现 Agent 间消息传递
- 流程：墨媒 → 墨笔 → 墨媒 → 用户

---

### 3.3 技术栈要求

| 技术组件 | 用途 | 备选方案 |
|---------|------|---------|
| OpenClaw | 多 Agent 调度框架 | LangChain + 自定义调度 |
| Remotion | React 视频框架 | FFmpeg 纯命令行 |
| MiniMax TTS | 语音克隆服务 | ElevenLabs / edge-tts |
| Whisper | 音频转录与时间戳提取 | Google Speech-to-Text |
| React | 视频模板开发 | - |
| Telegram Bot | 消息通知与交互 | 企业微信 / 钉钉 |

---

## 四、非功能需求

### 4.1 性能要求
- 单条视频总耗时：≤ 15 分钟
- 系统并发能力：支持 3 条视频同时制作
- 服务可用性：≥ 99%
- 渲染队列：支持最多 10 条视频排队

### 4.2 成本要求
- 单条视频成本：≤ 0.2 元
- 服务器成本：≤ 500 元/月
- TTS 成本：≤ 0.1 元/条
- 其他成本：尽量使用开源/免费方案

### 4.3 可扩展性
- 支持多种视频风格模板切换
- 支持多平台发布（视频号、抖音、B站等）
- 支持多语言 TTS
- 支持自定义 Agent 工作流

### 4.4 安全性
- 语音克隆模型私有化部署
- API 密钥加密存储
- 视频内容审核机制
- 用户数据隔离

---

## 五、用户体验设计

### 5.1 核心用户流程

```
用户早上打开 Telegram
    ↓
收到 5 个选题推送（9:30 自动发送）
    ↓
点击选择其中 1 个选题（1 分钟）
    ↓
系统自动制作视频（10 分钟，无需人工干预）
    ↓
收到成片通知，点击预览（2 分钟）
    ↓
确认发布或要求修改
    ↓
视频自动发布到视频号
```

### 5.2 交互设计要点
- **极简交互**：用户只需点击 2 次（选题 + 确认）
- **实时反馈**：每个环节完成后推送进度通知
- **容错机制**：支持重新生成、修改脚本、调整参数
- **数据可视化**：展示播放量、完播率等关键指标

---

## 六、视觉设计规范

### 6.1 赛博线框批注体风格
- **背景色**：#0A0A0F（深色，不刺眼）
- **主文字**：大字排版，字号 60-80px
- **关键词高亮**：
  - Cyan（青色）：技术名词
  - Gold（金色）：数字/数据
  - Red（红色）：痛点/警示
- **IP 角色**：小墨（线条猫）6 种姿态
- **动效类型**：
  - glitch：标题闪现
  - slam：数字砸入
  - draw：猫爪画圈
  - fade：渐显渐隐

### 6.2 音效设计
- **BGM**：18% 音量，不抢旁白
- **动效音**：
  - 嗞声：配合 glitch 动效
  - 咚声：配合 slam 动效
  - 笔触声：配合 draw 动效

---

## 七、数据指标

### 7.1 核心指标（North Star Metric）
- **单条视频播放量**：目标 ≥ 1000（当前 1595）
- **3 日总播放量**：目标 ≥ 5000（当前 9018）

### 7.2 过程指标
- 视频制作时间：≤ 15 分钟
- 视频制作成本：≤ 0.2 元
- 更新频率：≥ 5 条/周
- 脚本质量评分：≥ 4.5/5.0
- 音画同步准确率：≥ 95%

### 7.3 业务指标
- 完播率：≥ 60%
- 点赞率：≥ 3%
- 转发率：≥ 1%
- 粉丝增长：≥ 50 人/周

---

## 八、风险与挑战

### 8.1 技术风险
| 风险项 | 影响 | 应对方案 |
|-------|------|---------|
| TTS 服务不稳定 | 视频制作中断 | 备用 TTS 服务（ElevenLabs） |
| Whisper 时间戳飘移 | 字幕不同步 | 人工快速审核 + 自动校准算法 |
| Remotion 渲染失败 | 无法出片 | 错误重试机制 + 降级方案 |
| 服务器资源不足 | 渲染速度慢 | 云服务器弹性扩容 |

### 8.2 内容风险
| 风险项 | 影响 | 应对方案 |
|-------|------|---------|
| AI 生成内容违规 | 账号被封 | 内容审核机制 + 敏感词过滤 |
| 脚本质量下降 | 播放量降低 | 不降低模型等级 + 人工抽检 |
| 风格审美疲劳 | 用户流失 | 定期更新模板 + A/B 测试 |

### 8.3 成本风险
| 风险项 | 影响 | 应对方案 |
|-------|------|---------|
| TTS 价格上涨 | 成本增加 | 切换到开源方案（edge-tts） |
| 服务器成本超预算 | 利润降低 | 优化渲染算法 + 批量处理 |

---

## 九、实施计划

### 9.1 MVP 阶段（4 周）
**目标**：验证核心流程可行性

- Week 1：搭建 OpenClaw + Agent 基础架构
- Week 2：实现脚本生成 + TTS + 时间戳提取
- Week 3：开发 Remotion 视频模板（赛博线框体）
- Week 4：集成完整流程 + 测试发布

**验收标准**：
- 成功制作并发布 5 条测试视频
- 单条制作时间 ≤ 20 分钟
- 成本 ≤ 0.5 元/条

### 9.2 优化阶段（4 周）
**目标**：提升效率与质量

- Week 5-6：优化脚本质量 + 动效对齐
- Week 7：增加多种视频模板
- Week 8：数据监控与自动化优化

**验收标准**：
- 制作时间降至 ≤ 15 分钟
- 成本降至 ≤ 0.2 元/条
- 播放量 ≥ 1000/条

### 9.3 扩展阶段（持续）
- 支持多平台发布（抖音、B站）
- 增加更多视频风格模板
- 开发 Web 管理后台
- 支持团队协作功能

---

## 十、成功案例数据

### 10.1 效果对比

| 指标 | 人工制作 | AI 自动化 | 提升幅度 |
|-----|---------|----------|---------|
| 制作时间 | 2-3 小时 | 15 分钟 | 提升 90% |
| 单条成本 | 300-800 元 | 0.1 元 | 降低 99.9% |
| 平均播放量 | 200 | 1595 | 增长 8 倍 |
| 更新频率 | 1-2 条/周 | 7 条/周 | 增长 5 倍 |

### 10.2 实际数据
- 单条最高播放量：1595
- 3 天总播放量：9018
- 使用 AI 后播放量曲线：持续上升
- 用户反馈：风格统一、辨识度高

---

## 十一、附录

### 11.1 技术文档
- OpenClaw 部署指南
- Remotion 模板开发文档
- MiniMax TTS API 文档
- Whisper 本地部署教程

### 11.2 参考资源
- OpenClaw 官方文档
- Remotion 官方文档
- 孟健的 AI 编程认知公众号
- OpenClaw 视频课程（18 节）

### 11.3 关键配置示例

**scenes-data.ts 示例**：
```typescript
export const scenes: SceneData[] = [
  {
    start: 0.0,
    end: 3.46,
    type: 'title',
    title: '三家巨头\n同一天',
    xiaomo: 'peek',
  },
  {
    start: 3.46,
    end: 5.90,
    type: 'pain',
    title: '微软说',
    subtitle: 'Copilot 已经能写掉\n90% 的代码',
    number: '90%',
    highlight: 'Copilot',
  },
];
```

**Remotion 渲染命令**：
```bash
npx remotion render WireframeVideo out/成片.mp4 --codec=h264
```

---

## 十二、总结

这是一个将视频制作从"创作"转变为"生产"的系统。核心思路是：

**视频 = 数据 + 模板 + 自动化**

通过 AI Agent 协作、代码化模板、语音克隆技术，实现了：
- 15 分钟制作一条视频
- 成本 0.1 元
- 播放量提升 8 倍
- 无需剪辑软件

这不是炫技，而是用技术解决个人创作者最大的痛点：时间稀缺与内容杠杆的矛盾。
