# AI è§†é¢‘è‡ªåŠ¨åŒ–ç”Ÿäº§ç³»ç»Ÿ

> åŸºäº OpenClaw + Remotion + è¯­éŸ³å…‹éš†çš„å…¨è‡ªåŠ¨çŸ­è§†é¢‘ç”Ÿäº§ç³»ç»Ÿ

## ç®€ä»‹

è¿™æ˜¯ä¸€ä¸ªå°†è§†é¢‘åˆ¶ä½œä»"åˆ›ä½œ"è½¬å˜ä¸º"ç”Ÿäº§"çš„ç³»ç»Ÿã€‚é€šè¿‡ AI Agent åä½œã€ä»£ç åŒ–æ¨¡æ¿ã€è¯­éŸ³å…‹éš†æŠ€æœ¯ï¼Œå®ç°ï¼š

- âš¡ **æ•ˆç‡æå‡**ï¼šåˆ¶ä½œæ—¶é—´ä» 2-3 å°æ—¶é™è‡³ **15 åˆ†é’Ÿ**ï¼ˆæå‡ 90%ï¼‰
- ğŸ’° **æˆæœ¬ä¼˜åŒ–**ï¼šå•æ¡è§†é¢‘æˆæœ¬ä» 300-800 å…ƒé™è‡³ **0.1 å…ƒ**ï¼ˆé™ä½ 99.9%ï¼‰
- ğŸ“ˆ **æ•°æ®å¢é•¿**ï¼šæ’­æ”¾é‡ä»å¹³å‡ 200 æå‡è‡³ **1595**ï¼ˆå¢é•¿ 8 å€ï¼‰
- ğŸ› ï¸ **é›¶æŠ€èƒ½é—¨æ§›**ï¼šæ— éœ€æŒæ¡å‰ªæ˜ ã€PR ç­‰å‰ªè¾‘è½¯ä»¶

## æŠ€æœ¯æ ˆ

| æŠ€æœ¯ç»„ä»¶ | ç”¨é€” |
|---------|------|
| [OpenClaw](https://openclaw.dev) | å¤š Agent è°ƒåº¦æ¡†æ¶ |
| [Remotion](https://www.remotion.dev) | React è§†é¢‘æ¡†æ¶ |
| MiniMax TTS | è¯­éŸ³å…‹éš†æœåŠ¡ |
| Whisper | éŸ³é¢‘è½¬å½•ä¸æ—¶é—´æˆ³æå– |
| React | è§†é¢‘æ¨¡æ¿å¼€å‘ |
| Telegram Bot | æ¶ˆæ¯é€šçŸ¥ä¸äº¤äº’ |
| Anthropic Claude | AI å†…å®¹ç”Ÿæˆ |

## æ ¸å¿ƒæµç¨‹

```
å¢¨åª’æ¨é€‰é¢˜ï¼ˆcron æ¯æ—¥ 9:30ï¼‰
    â†“ Telegram æ¨é€ 5 ä¸ªé€‰é¢˜
ç”¨æˆ·é€‰ä¸€ä¸ª
    â†“ é€‰é¢˜ç¡®è®¤
å¢¨ç¬”å†™æ—ç™½è„šæœ¬ï¼ˆ60ç§’ï¼Œ200å­—å·¦å³ï¼‰
    â†“
MiniMax TTS ç”Ÿæˆå…‹éš†è¯­éŸ³
    â†“ çº¦Â¥0.1ï¼Œ3ç§’å‡ºç»“æœ
Whisper æå–é€å¥æ—¶é—´æˆ³
    â†“ æœ¬åœ°è¿è¡Œï¼Œå…è´¹
å¢¨ç¬”ç¼–æ’ scenes-data.ts
    â†“ æŒ‰æ—¶é—´æˆ³å¡«åœºæ™¯ç±»å‹+æ–‡æ¡ˆ
Remotion æ¸²æŸ“ MP4
    â†“ h264ç¼–ç ï¼Œçº¦2åˆ†é’Ÿ
å¢¨ç¬”å‘æˆç‰‡ç»™ç”¨æˆ·
    â†“ Telegram é€šçŸ¥
ç”¨æˆ·ç¡®è®¤ â†’ å¢¨åª’å‘å¸ƒ
```

## Agent æ¶æ„

- **å¢¨åª’ï¼ˆè¿è¥ Agentï¼‰**ï¼šé€‰é¢˜æ¨é€ã€å‘å¸ƒç®¡ç†ã€æ•°æ®ç›‘æ§
- **å¢¨ç¬”ï¼ˆåˆ›ä½œ Agentï¼‰**ï¼šè„šæœ¬åˆ›ä½œã€TTS è°ƒç”¨ã€åœºæ™¯ç¼–æ’ã€è§†é¢‘æ¸²æŸ“
- **å¢¨å½±ï¼ˆè®¾è®¡ Agentï¼‰**ï¼šå°é¢å›¾è®¾è®¡ã€é…å›¾ç”Ÿæˆ

## è§†è§‰é£æ ¼ - èµ›åšçº¿æ¡†æ‰¹æ³¨ä½“

- **èƒŒæ™¯è‰²**ï¼š#0A0A0Fï¼ˆæ·±è‰²ï¼Œä¸åˆºçœ¼ï¼‰
- **ä¸»æ–‡å­—**ï¼šå¤§å­—æ’ç‰ˆï¼Œå­—å· 60-80px
- **å…³é”®è¯é«˜äº®**ï¼šCyanï¼ˆæŠ€æœ¯åè¯ï¼‰ã€Goldï¼ˆæ•°å­—ï¼‰ã€Redï¼ˆç—›ç‚¹ï¼‰
- **IP è§’è‰²**ï¼šå°å¢¨ï¼ˆçº¿æ¡çŒ«ï¼‰6 ç§å§¿æ€
- **åŠ¨æ•ˆç±»å‹**ï¼šglitchï¼ˆé—ªç°ï¼‰ã€slamï¼ˆç ¸å…¥ï¼‰ã€drawï¼ˆç”»åœˆï¼‰ã€fadeï¼ˆæ¸æ˜¾ï¼‰

## ç¯å¢ƒè¦æ±‚

### å¿…éœ€ç¯å¢ƒ

- **Node.js**: 18.0 æˆ–æ›´é«˜ç‰ˆæœ¬
- **npm**: 9.0 æˆ–æ›´é«˜ç‰ˆæœ¬ï¼ˆæˆ–ä½¿ç”¨ pnpm/yarnï¼‰
- **TypeScript**: 5.0+ï¼ˆé¡¹ç›®å†…ç½®ï¼‰

### å¯é€‰ç¯å¢ƒ

- **Python**: 3.8+ï¼ˆå¦‚éœ€æœ¬åœ°è¿è¡Œ Whisperï¼‰
- **FFmpeg**:ï¼ˆç³»ç»Ÿä¾èµ–ï¼Œç”¨äºè§†é¢‘å¤„ç†ï¼‰

### æœåŠ¡å™¨é…ç½®ï¼ˆç”Ÿäº§ç¯å¢ƒï¼‰

- **CPU**: 4 æ ¸å¿ƒä»¥ä¸Š
- **å†…å­˜**: 8GB ä»¥ä¸Š
- **å­˜å‚¨**: 50GB ä»¥ä¸Š SSD

## å®‰è£…æ­¥éª¤

### 1. å…‹éš†ä»“åº“

```bash
git clone https://github.com/xianyu110/minimax-tts.git
cd minimax-tts
```

### 2. å®‰è£…ä¾èµ–

```bash
# å®‰è£…ä¸»é¡¹ç›®ä¾èµ–
npm install

# å®‰è£… Remotion ä¾èµ–
cd remotion
npm install
cd ..
```

### 3. é…ç½®ç¯å¢ƒå˜é‡

```bash
# å¤åˆ¶ç¯å¢ƒå˜é‡æ¨¡æ¿
cp .env.example .env

# ç¼–è¾‘ .env æ–‡ä»¶ï¼Œå¡«å…¥ä½ çš„ API å¯†é’¥
nano .env  # æˆ–ä½¿ç”¨ä½ å–œæ¬¢çš„ç¼–è¾‘å™¨
```

### 4. éªŒè¯å®‰è£…

```bash
# ç¼–è¯‘é¡¹ç›®
npm run build

# è¿è¡Œæµ‹è¯•è„šæœ¬
npm run test:mock  # ä½¿ç”¨ mock æ•°æ®æµ‹è¯•
```

## é…ç½®ç¯å¢ƒå˜é‡

åœ¨é¡¹ç›®æ ¹ç›®å½•çš„ `.env` æ–‡ä»¶ä¸­é…ç½®ä»¥ä¸‹ç¯å¢ƒå˜é‡ï¼š

```env
# Anthropic API Key - ç”¨äºè„šæœ¬ç”Ÿæˆå’Œé€‰é¢˜ç”Ÿæˆ
ANTHROPIC_API_KEY=your_anthropic_api_key_here

# OpenAI API Key - ç”¨äº Whisper æ—¶é—´æˆ³æå–
OPENAI_API_KEY=your_openai_api_key_here

# Fal.ai API Key - ç”¨äº MiniMax è¯­éŸ³å…‹éš†
FAL_KEY=your_fal_api_key_here

# å¯é€‰ï¼šæ—¥å¿—çº§åˆ«ï¼ˆDEBUG | INFO | WARN | ERRORï¼‰
LOG_LEVEL=INFO

# å¯é€‰ï¼šTelegram Bot é…ç½®ï¼ˆç”¨äºæ¶ˆæ¯é€šçŸ¥ï¼‰
TELEGRAM_BOT_TOKEN=your_telegram_bot_token
TELEGRAM_CHAT_ID=your_telegram_chat_id
```

### è·å– API å¯†é’¥

1. **Anthropic API Key**: è®¿é—® [console.anthropic.com](https://console.anthropic.com)
2. **OpenAI API Key**: è®¿é—® [platform.openai.com](https://platform.openai.com)
3. **Fal.ai API Key**: è®¿é—® [fal.ai](https://fal.ai)

## å¿«é€Ÿå¼€å§‹

### åŸºç¡€ä½¿ç”¨ç¤ºä¾‹

```typescript
import { generateTopics } from './agents/momo/topic-generator.js';
import { scriptGenerator } from './agents/moubi/script-generator.js';
import { minimaxTTS } from './services/tts/minimax.js';
import { createWhisperExtractor } from './src/services/whisper/index.js';

// 1. ç”Ÿæˆé€‰é¢˜
const topicList = await generateTopics(5);
console.log('é€‰é¢˜:', topicList.topics);

// 2. ç”Ÿæˆè„šæœ¬
const script = await scriptGenerator.generateScript({
  topic: topicList.topics[0].title
});
console.log('è„šæœ¬:', script.script);

// 3. ç”Ÿæˆè¯­éŸ³
const audioPath = await minimaxTTS.generateAudio(script.script, {
  voice_id: 'z0000000425',
  speed: 1.15
});
console.log('éŸ³é¢‘æ–‡ä»¶:', audioPath);

// 4. æå–æ—¶é—´æˆ³
const extractor = createWhisperExtractor();
const segments = await extractor.processAudioFile(audioPath);
console.log('æ—¶é—´æˆ³:', segments);
```

### è¿è¡Œæµ‹è¯•è„šæœ¬

```bash
# ä½¿ç”¨ mock æ•°æ®æµ‹è¯•ï¼ˆä¸è°ƒç”¨çœŸå® APIï¼‰
npm run test:mock

# ä½¿ç”¨çœŸå® API æµ‹è¯•ï¼ˆéœ€è¦é…ç½®ç¯å¢ƒå˜é‡ï¼‰
npm run test:api
```

### æ¸²æŸ“è§†é¢‘

```bash
# ä½¿ç”¨ Remotion æ¸²æŸ“è§†é¢‘
cd remotion
npm run render

# æˆ–ä½¿ç”¨ npx ç›´æ¥æ¸²æŸ“
npx remotion render WireframeVideo ../output/videos/output.mp4 --codec=h264
```

## ç›®å½•ç»“æ„

```
minimax-tts/
â”œâ”€â”€ agents/                 # AI Agent å®ç°
â”‚   â”œâ”€â”€ momo/              # å¢¨åª’ - é€‰é¢˜ç”Ÿæˆ
â”‚   â”‚   â””â”€â”€ topic-generator.ts
â”‚   â””â”€â”€ moubi/             # å¢¨ç¬” - è„šæœ¬ç”Ÿæˆ
â”‚       â””â”€â”€ script-generator.ts
â”œâ”€â”€ services/              # å¤–éƒ¨æœåŠ¡é›†æˆ
â”‚   â”œâ”€â”€ tts/              # TTS æœåŠ¡
â”‚   â”‚   â””â”€â”€ minimax.ts
â”‚   â”œâ”€â”€ whisper/          # éŸ³é¢‘å¤„ç†
â”‚   â””â”€â”€ storage/          # å­˜å‚¨æœåŠ¡
â”œâ”€â”€ src/                   # æºä»£ç 
â”‚   â”œâ”€â”€ lib/              # åº“ä»£ç 
â”‚   â”‚   â”œâ”€â”€ types/        # ç±»å‹å®šä¹‰
â”‚   â”‚   â”œâ”€â”€ prompts/      # Prompt æ¨¡æ¿
â”‚   â”‚   â””â”€â”€ utils/        # å·¥å…·å‡½æ•°
â”‚   â””â”€â”€ services/         # æœåŠ¡å±‚å®ç°
â”‚       â””â”€â”€ whisper/      # Whisper æœåŠ¡å®ç°
â”œâ”€â”€ remotion/              # Remotion è§†é¢‘é¡¹ç›®
â”‚   â”œâ”€â”€ src/              # è§†é¢‘ç»„ä»¶
â”‚   â””â”€â”€ Remotion.config.ts
â”œâ”€â”€ output/                # è¾“å‡ºç›®å½•
â”‚   â”œâ”€â”€ audio/            # ç”Ÿæˆçš„éŸ³é¢‘
â”‚   â””â”€â”€ videos/           # æ¸²æŸ“çš„è§†é¢‘
â”œâ”€â”€ scripts/               # è„šæœ¬å·¥å…·
â”‚   â””â”€â”€ test-pipeline.ts  # é›†æˆæµ‹è¯•
â”œâ”€â”€ examples/              # ç¤ºä¾‹ä»£ç 
â”‚   â””â”€â”€ example-usage.md
â”œâ”€â”€ .env.example           # ç¯å¢ƒå˜é‡æ¨¡æ¿
â”œâ”€â”€ package.json
â””â”€â”€ tsconfig.json
```

## å¸¸è§é—®é¢˜

### Q1: è¿è¡Œæ—¶æç¤ºå‡ºç° "FAL_KEY environment variable is not set"

**A**: è¯·ç¡®ä¿åœ¨é¡¹ç›®æ ¹ç›®å½•åˆ›å»ºäº† `.env` æ–‡ä»¶ï¼Œå¹¶é…ç½®äº† `FAL_KEY` ç¯å¢ƒå˜é‡ã€‚

```bash
cp .env.example .env
# ç¼–è¾‘ .env æ–‡ä»¶å¡«å…¥ä½ çš„ Fal.ai API Key
```

### Q2: Whisper API è¿”å› 429 Too Many Requests

**A**: OpenAI API æœ‰é€Ÿç‡é™åˆ¶ï¼Œå»ºè®®ï¼š
1. ä½¿ç”¨ä»˜è´¹è´¦å·æé«˜é™é¢
2. æ·»åŠ é‡è¯•é€»è¾‘ï¼ˆå·²å†…ç½®ï¼‰
3. è€ƒè™‘ä½¿ç”¨æœ¬åœ° Whisper æ¨¡å‹

### Q3: ç”Ÿæˆçš„è¯­éŸ³æ–‡ä»¶è·¯å¾„æ‰¾ä¸åˆ°

**A**: ç¡®ä¿ `output/audio` ç›®å½•å­˜åœ¨ã€‚é¡¹ç›®ä¼šåœ¨é¦–æ¬¡è¿è¡Œæ—¶è‡ªåŠ¨åˆ›å»ºï¼Œå¦‚æœæ²¡æœ‰åˆ›å»ºè¯·æ‰‹åŠ¨åˆ›å»ºï¼š

```bash
mkdir -p output/audio
```

### Q4: Remotion æ¸²æŸ“å¤±è´¥

**A**: å¸¸è§åŸå› ï¼š
1. FFmpeg æœªå®‰è£…ï¼š`brew install ffmpeg` (macOS) æˆ– `apt-get install ffmpeg` (Linux)
2. å†…å­˜ä¸è¶³ï¼šå»ºè®® 4GB ä»¥ä¸Šå¯ç”¨å†…å­˜
3. ç«¯å£å ç”¨ï¼šæ£€æŸ¥ 3000 ç«¯å£æ˜¯å¦è¢«å ç”¨

### Q5: TypeScript ç¼–è¯‘é”™è¯¯

**A**: è¿è¡Œæ¸…ç†å‘½ä»¤å¹¶é‡æ–°å®‰è£…ï¼š

```bash
rm -rf node_modules dist
npm install
npm run build
```

### Q6: å¦‚ä½•ä½¿ç”¨æœ¬åœ° Whisper æ¨¡å‹ï¼Ÿ

**A**: å¯ä»¥ä½¿ç”¨ `openai-whisper` æœ¬åœ°ç‰ˆæœ¬ï¼š

```python
# pip install openai-whisper
import whisper
model = whisper.load_model("base")
result = model.transcribe("audio.mp3")
```

## æˆæœ¬å¯¹æ¯”

| é¡¹ç›® | ä¼ ç»Ÿå¤–åŒ… | AI è‡ªåŠ¨åŒ– |
|-----|---------|----------|
| åˆ¶ä½œæ—¶é—´ | 2-3 å°æ—¶ | 15 åˆ†é’Ÿ |
| å•æ¡æˆæœ¬ | 300-800 å…ƒ | 0.1 å…ƒ |
| å¹³å‡æ’­æ”¾é‡ | 200 | 1595 |

## æ›´å¤šæ–‡æ¡£

- [äº§å“éœ€æ±‚æ–‡æ¡£ (PRD)](./PRD_AIè§†é¢‘è‡ªåŠ¨åŒ–ç”Ÿäº§ç³»ç»Ÿ.md) - å®Œæ•´çš„äº§å“éœ€æ±‚ä¸è®¾è®¡æ–¹æ¡ˆ
- [éƒ¨ç½²æ–‡æ¡£](./DEPLOYMENT.md) - éƒ¨ç½²å’Œç¯å¢ƒé…ç½®æŒ‡å—
- [ä½¿ç”¨ç¤ºä¾‹](./examples/example-usage.md) - è¯¦ç»†ä½¿ç”¨ç¤ºä¾‹å’Œæœ€ä½³å®è·µ

## è´¡çŒ®

æ¬¢è¿æäº¤ Issue å’Œ Pull Requestï¼

1. Fork æœ¬ä»“åº“
2. åˆ›å»ºç‰¹æ€§åˆ†æ”¯ (`git checkout -b feature/AmazingFeature`)
3. æäº¤æ›´æ”¹ (`git commit -m 'Add some AmazingFeature'`)
4. æ¨é€åˆ°åˆ†æ”¯ (`git push origin feature/AmazingFeature`)
5. å¼€å¯ Pull Request

## è®¸å¯è¯

MIT License

---

**æ ¸å¿ƒå…¬å¼ï¼šè§†é¢‘ = æ•°æ® + æ¨¡æ¿ + è‡ªåŠ¨åŒ–**
